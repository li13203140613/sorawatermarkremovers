# Sora Video Downloader - 安装和使用指南

## 📦 安装步骤

### 方法一：开发者模式加载（推荐）

1. **打开 Chrome 扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

2. **开启开发者模式**
   - 在页面右上角找到"开发者模式"开关
   - 点击开关，启用开发者模式

3. **加载扩展**
   - 点击页面左上角的"加载已解压的扩展程序"按钮
   - 选择 `sora-extension` 文件夹
   - 点击"选择文件夹"

4. **验证安装**
   - 扩展列表中应该出现"Sora Video Downloader"
   - 图标可能显示为默认图标（图标资源待生成）
   - 确保扩展状态为"已启用"

### 方法二：拖拽安装（需要打包）

1. 在 `chrome://extensions/` 页面
2. 将 `sora-extension` 文件夹拖拽到页面中
3. 确认安装

---

## 🚀 使用方法

### 步骤 1：访问 Sora 视频页面

打开任意 Sora 视频链接，例如：
```
https://sora.chatgpt.com/p/abc123
```

### 步骤 2：找到下载按钮

- 在视频右侧的操作栏（点赞、转发按钮旁边）
- 会看到一个绿色的"下载"按钮
- 按钮上有下载图标 ⬇️

### 步骤 3：点击下载

- 点击"下载"按钮
- 按钮会显示"处理中..."
- 等待 5-10 秒

### 步骤 4：自动下载

- 浏览器会自动开始下载视频
- 视频保存在默认下载文件夹
- 文件名格式：`sora_video_20250113_143025.mp4`

---

## ✅ 功能说明

### 当前版本（v1.0.0 - MVP）

- ✅ 自动检测 Sora 视频页面
- ✅ 在操作栏注入下载按钮
- ✅ 一键提取视频链接
- ✅ 调用后端 API 去除水印
- ✅ 自动触发浏览器下载
- ✅ 实时显示处理状态

### 限制说明

- 未登录用户：每次 1 次免费下载（Cookie 积分）
- 已登录用户：使用账户积分（需要在网站登录）
- 每次处理时间约 5-10 秒
- 仅支持 Sora 视频页面（`sora.chatgpt.com/p/*`）

---

## 🔧 故障排除

### 问题 1：页面上看不到下载按钮

**可能原因**：
- 不是 Sora 视频页面（URL 不匹配）
- 页面还未完全加载
- Sora 页面结构发生变化

**解决方法**：
1. 确认 URL 格式正确：`https://sora.chatgpt.com/p/xxxxx`
2. 刷新页面（F5）
3. 查看浏览器控制台是否有错误（F12 → Console）

---

### 问题 2：点击下载后显示"积分不足"

**原因**：
- 未登录用户的免费积分已用完
- 已登录用户的账户积分不足

**解决方法**：
- 访问 https://www.sora-prompt.io/pricing 充值积分
- 或在网站注册/登录账户

---

### 问题 3：下载失败或长时间无响应

**可能原因**：
- 网络连接问题
- API 服务异常
- 视频链接无效

**解决方法**：
1. 检查网络连接
2. 稍后重试
3. 查看控制台错误信息：
   - 按 F12 打开开发者工具
   - 切换到 Console 标签
   - 查找红色错误信息

---

### 问题 4：扩展无法加载

**错误提示**：`Manifest file is missing or unreadable`

**解决方法**：
- 确保 `manifest.json` 文件存在
- 检查文件格式是否正确（UTF-8 编码）
- 重新下载扩展文件

---

### 问题 5：CORS 错误

**错误信息**：`blocked by CORS policy`

**原因**：
- 后端未配置 CORS
- 扩展权限不足

**解决方法**：
1. 检查后端 API 是否已添加 CORS 响应头（参考 `CORS-CONFIG.md`）
2. 确保 `manifest.json` 中的 `host_permissions` 正确

---

## 🛠️ 开发者调试

### 查看扩展日志

1. 打开 `chrome://extensions/`
2. 找到"Sora Video Downloader"
3. 点击"检查视图：背景页"
4. 查看 Console 输出

### 查看页面注入日志

1. 在 Sora 视频页面按 F12
2. 切换到 Console 标签
3. 查找 `🎬 Sora Video Downloader` 相关日志

### 重新加载扩展

修改代码后：
1. 打开 `chrome://extensions/`
2. 找到扩展，点击"重新加载"图标（↻）
3. 刷新 Sora 页面

---

## 📝 已知问题

1. **图标缺失**：当前未生成图标资源，显示为默认图标
2. **按钮位置**：如果 Sora 页面更新，按钮可能无法正确注入
3. **多语言**：暂不支持国际化，仅中文界面

---

## 🔄 版本历史

### v1.0.0 (2025-01-13)
- ✅ 第一期 MVP 功能
- ✅ 基础下载功能
- ✅ 未登录用户支持

---

## 💬 反馈和支持

遇到问题或有建议？请联系：
- **网站**：https://www.sora-prompt.io
- **邮箱**：lixiaofei@example.com

---

## 📄 许可证

此扩展为内部项目，未公开发布。仅供授权用户使用。
